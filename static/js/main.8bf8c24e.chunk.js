(this.webpackJsonpsocialweb=this.webpackJsonpsocialweb||[]).push([[0],{11:function(e,t,a){e.exports={footer:"Footer_footer__1dvtT",img:"Footer_img__1lQzi",imgMessages:"Footer_imgMessages__1ACES",active:"Footer_active__1A6_j"}},12:function(e,t,a){e.exports={dialogs:"Message_dialogs__bIMn1",dilogsItems:"Message_dilogsItems__3kFiL",messages:"Message_messages__2XjiL"}},13:function(e,t,a){e.exports={header:"Header_header__318n1",active:"Header_active__1tsaU",auth:"Header_auth__2-Am-"}},24:function(e,t,a){e.exports={me:"Me_me__mJ2AC",nameme:"Me_nameme__3nqDB",sticky:"Me_sticky__27dzc"}},29:function(e,t,a){e.exports={content:"Users_content__19OzP",selectedPage:"Users_selectedPage__1q73A"}},40:function(e,t,a){e.exports={content:"Main_content__3Bs3o"}},41:function(e,t,a){e.exports={imgAva:"Post_imgAva__17ww0"}},42:function(e,t,a){e.exports={content:"Dialogs_content___OaR_"}},46:function(e,t,a){e.exports=a(76)},51:function(e,t,a){},52:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},53:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),i=(a(51),a(52),a(53),a(13)),s=a.n(i),l=a(4),u=function(e){return r.a.createElement("header",{className:s.a.header},r.a.createElement(l.b,{to:"/profile",activeClassName:s.a.active},"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),r.a.createElement(l.b,{to:"/dialogs",activeClassName:s.a.active},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),r.a.createElement(l.b,{to:"/users",activeClassName:s.a.active},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"),e.isAuth?r.a.createElement("div",{className:s.a.auth},e.login," ",r.a.createElement("img",{src:e.photo?e.photo:"https://avatars.yandex.net/get-music-content/175191/f26e7e1a.p.5821649/m1000x1000",alt:""})):r.a.createElement("div",{className:s.a.auth},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"))},d=a(40),m=a.n(d),g=a(41),p=a.n(g),f=function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null," ",e.name," "),r.a.createElement("img",{className:p.a.imgAva,src:e.img,alt:e.name}),e.text))},h=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."))},b=function(e){var t=e.profilePage.map((function(e){return r.a.createElement(f,{img:e.img,text:e.text,key:e.id,name:e.name})}));return r.a.createElement("div",{className:m.a.content},e.isFetching?r.a.createElement(h,null):r.a.createElement("img",{src:e.photo?e.photo:"https://img8.eadaily.com/r650x450/o/7ac/95f49146b4501082acd22918d4cc2.jpg",alt:""}),r.a.createElement("textarea",{value:e.newPostText,onChange:function(t){var a=t.target.value;e.updateNewPostText(a)}}," "),"  ",r.a.createElement("button",{onClick:function(){e.addPost()}},"\u041e\u0442\u0440\u043f\u0440\u0430\u0432\u0438\u0442\u044c "),t)},v=a(11),E=a.n(v),_=function(e){return r.a.createElement("footer",{className:E.a.footer},r.a.createElement(l.b,{to:"/profile",activeClassName:E.a.active},r.a.createElement("img",{className:E.a.img,src:"https://cdn4.iconfinder.com/data/icons/evil-icons-user-interface/64/avatar-512.png",alt:"Profile"})),r.a.createElement(l.b,{to:"/dialogs",activeClassName:E.a.active},r.a.createElement("img",{className:E.a.imgMessages,src:"https://www.logolynx.com/images/logolynx/75/75189e2b07df0d2a8cc42dee4cf889b7.png",alt:"messages"})),r.a.createElement(l.b,{to:"/users",activeClassName:E.a.active},r.a.createElement("img",{className:E.a.img,src:"https://icons.iconarchive.com/icons/custom-icon-design/pretty-office-13/512/Users-icon.png",alt:""})))},O=a(42),j=a.n(O),P=a(24),w=a.n(P),U=function(e){return r.a.createElement("div",{className:w.a.me,id:"navbar"},r.a.createElement("div",{className:w.a.nameme}," \u0412\u044b \u0445\u0445\u0445\u0445 "),r.a.createElement("img",{src:"https://media.vanityfair.com/photos/5c5325d33889055ec0570bcf/master/pass/t-ava-max-interview.jpg",alt:""}),r.a.createElement("div",{className:w.a.nameUser}," \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c "),r.a.createElement("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQiTFKqGQSmNR0oBxxx7XkVRlO_OijvVdh6n7RRyp1fWsKoFPSQ&usqp=CAU",alt:""}))},x=a(12),T=a.n(x),N=function(e){return r.a.createElement("div",{className:T.a.dialogs},r.a.createElement("div",{className:T.a.dilogsItems},r.a.createElement("div",{className:T.a.dialog},r.a.createElement(l.b,{to:"/dialogs/1"},"Dima")),r.a.createElement("div",{className:T.a.dialog},r.a.createElement(l.b,{to:"/dialogs/2"},"Sasha")),r.a.createElement("div",{className:T.a.dialog},r.a.createElement(l.b,{to:"/dialogs/3"},"Sveta"))),r.a.createElement("div",{className:T.a.messages},r.a.createElement("div",{className:T.a.dialog},"ddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd")))},y=function(e){return r.a.createElement("div",{className:j.a.content},r.a.createElement(U,null),r.a.createElement(N,null))},S=a(3),k=a(15),R=a(16),A=a(18),C=a(17),F=a(10),D=a(23),I=a(1),M=a(44).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"be820c73-af0b-4ffa-9553-5bd0d04425d6"}}),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return M.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},z=function(e){return M.post("follow/".concat(e)).then((function(e){return e.data.resultCode}))},H=function(e){return M.delete("follow/".concat(e)).then((function(e){return e.data.resultCode}))},B={users:[],pageSize:25,totalUsers:0,currentPage:1,isFetching:!0,isDisabled:[]},q=function(e){return{type:Q,users:e}},G=function(){return{type:$}},K=function(){return{type:Z}},W=function(e,t){return{type:ee,bool:e,id:t}},Q="SET_USERS",V="FOLLOW_USER",J="UNFOLLOW_USER",X="SET_CURRENT_PAGE",Y="SET_TOTAL_USERS_COUNT",$="IS_FETCHING_TRUE",Z="IS_FETCHING_FALSE",ee="IS_DISABLED",te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(I.a)(Object(I.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(I.a)(Object(I.a)({},e),{},{followed:!0}):e}))});case J:return Object(I.a)(Object(I.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(I.a)(Object(I.a)({},e),{},{followed:!1}):e}))});case Q:return Object(I.a)(Object(I.a)({},e),{},{users:t.users});case X:return Object(I.a)(Object(I.a)({},e),{},{currentPage:t.currentPage});case Y:return Object(I.a)(Object(I.a)({},e),{},{totalUsers:t.totalCount});case $:return Object(I.a)(Object(I.a)({},e),{},{isFetching:!0});case Z:return Object(I.a)(Object(I.a)({},e),{},{isFetching:!1});case ee:return Object(I.a)(Object(I.a)({},e),{},{isDisabled:t.bool?[].concat(Object(D.a)(e.isDisabled),[t.id]):e.isDisabled.filter((function(e){return e!=t.id}))});default:return e}},ae=function e(t){return{type:e,text:t}},ne=function e(){return{type:e}},re={profilePage:[{id:1,text:"\u041f\u0440\u0438\u0432\u0435\u0442",name:"\u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0426\u0435\u043f\u043a\u0430\u043b\u043e",img:"https://officelife.media/upload/iblock/a67/a673bdc2396a44e83b19b8a1665800d0.jpg"},{id:2,text:"\u041a\u0430\u043a \u0434\u0435\u043b\u0430?",name:"\u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0426\u0435\u043f\u043a\u0430\u043b\u043e",img:"https://officelife.media/upload/iblock/a67/a673bdc2396a44e83b19b8a1665800d0.jpg"},{id:3,text:"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e?",name:"\u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0426\u0435\u043f\u043a\u0430\u043b\u043e",img:"https://officelife.media/upload/iblock/a67/a673bdc2396a44e83b19b8a1665800d0.jpg"}],newPostText:"Heee",photo:""},ce=function(e){return{type:"SET_PHOTO_USER",photo:e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(I.a)(Object(I.a)({},e),{},{newPostText:t.text});case ne:var a={id:5,text:e.newPostText,name:"\u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0426\u0435\u043f\u043a\u0430\u043b\u043e",img:"https://officelife.media/upload/iblock/a67/a673bdc2396a44e83b19b8a1665800d0.jpg"};return Object(I.a)(Object(I.a)({},e),{},{profilePage:[].concat(Object(D.a)(e.profilePage),[a]),newPostText:""});case"SET_PHOTO_USER":return Object(I.a)(Object(I.a)({},e),{},{photo:t.photo});default:return e}},ie=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(R.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;this.props.isFetchingTrue(),(e=this.props.match.params.userID,M.get("profile/".concat(e)).then((function(e){return e.data}))).then((function(e){t.props.setPhotoUser(e.photos.large),t.props.isFetchingFalse()}))}},{key:"render",value:function(){return r.a.createElement(b,this.props)}}]),a}(r.a.Component),se=Object(S.e)(ie),le=Object(F.b)((function(e){return{profilePage:e.ProfilePageReducer.profilePage,newPostText:e.ProfilePageReducer.newPostText,photo:e.ProfilePageReducer.photo,isFetching:e.UsersPageReducer.isFetching}}),(function(e){return{updateNewPostText:function(t){e(ae(t))},addPost:function(){e(ne())},setPhotoUser:function(t){e(ce(t))},isFetchingTrue:function(){e(G())},isFetchingFalse:function(){e(K())}}}))(se),ue=a(29),de=a.n(ue),me=function(e){var t=e.pages.map((function(t){return r.a.createElement("div",{onClick:function(a){return n=t,void e.onPageChangedThunk(n,e.pageSize);var n},className:e.currentPage===t&&de.a.selectedPage},t)}));return r.a.createElement("div",{className:de.a.content},e.isFetching?r.a.createElement(h,null):r.a.createElement("div",null,e.users.map((function(t){return r.a.createElement("div",null,r.a.createElement(l.b,{to:"/profile/"+t.id},t.name,r.a.createElement("div",null,r.a.createElement("img",{src:t.photos.large?t.photos.large:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/VK.com-logo.svg/1200px-VK.com-logo.svg.png",alt:t.name}))),t.followed?r.a.createElement("button",{disabled:e.Disabled.some((function(e){return e===t.id})),onClick:function(){return a=t.id,void e.unfollowUserThunk(a);var a}}," \u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f "):r.a.createElement("button",{disabled:e.Disabled.some((function(e){return e===t.id})),onClick:function(){return a=t.id,void e.followUserThunk(a);var a}}," \u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f "))}))),r.a.createElement("div",null,t))},ge=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(R.a)(a,[{key:"componentDidMount",value:function(){this.props.getUserAC(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){for(var e=Math.ceil(this.props.totalUsers/this.props.pageSize),t=[],a=1;a<=e;a++)t.push(a);return r.a.createElement(me,Object.assign({},this.props,{pages:t,followUser:z,unfollowUser:H}))}}]),a}(r.a.Component),pe=Object(F.b)((function(e){return{users:e.UsersPageReducer.users,pageSize:e.UsersPageReducer.pageSize,totalUsers:e.UsersPageReducer.totalUsers,currentPage:e.UsersPageReducer.currentPage,isFetching:e.UsersPageReducer.isFetching,Disabled:e.UsersPageReducer.isDisabled}}),{getUserAC:function(e,t){return function(a){a(G()),L(e,t).then((function(e){var t;a(q(e.items)),a((t=e.totalCount,{type:Y,totalCount:t})),a(K())}))}},followUserThunk:function(e){return function(t){t(W(!0,e)),z(e).then((function(a){0==a&&t({type:V,userID:e}),t(W(!1,e))}))}},unfollowUserThunk:function(e){return function(t){t(W(!0,e)),H(e).then((function(a){0==a&&t({type:J,userID:e}),t(W(!1,e))}))}},onPageChangedThunk:function(e,t){return function(a){a(G()),a({type:X,currentPage:e}),L(e,t).then((function(e){a(q(e.items)),a(K())}))}}})(ge),fe={id:null,email:null,login:null,isAuth:!1},he=function(e,t,a){return{type:"SET_USER_DATA",data:{id:e,email:t,login:a}}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(I.a)(Object(I.a)(Object(I.a)({},e),t.data),{},{isAuth:!0});default:return e}},ve=function(e){Object(A.a)(a,e);var t=Object(C.a)(a);function a(){return Object(k.a)(this,a),t.apply(this,arguments)}return Object(R.a)(a,[{key:"componentDidMount",value:function(){this.props.authmeThunk()}},{key:"render",value:function(){return r.a.createElement(u,this.props)}}]),a}(r.a.Component),Ee=Object(F.b)((function(e){return{login:e.AuthPageReducer.login,photo:e.AuthPageReducer.photo,isAuth:e.AuthPageReducer.isAuth}}),{setUserData:he,setPhotoUser:ce,authmeThunk:function(){return function(e){M.get("auth/me").then((function(e){return e.data})).then((function(t){0===t.resultCode&&he(e(he(t.data.id,t.data.email,t.data.login)))}))}}})(ve);var _e=function(e){return r.a.createElement("div",{className:"App"},r.a.createElement(Ee,null),r.a.createElement(S.a,{path:"/profile/:userID?",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(S.a,{path:"/dialogs",component:y}),r.a.createElement(S.a,{path:"/users",component:pe}),r.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=a(19),je=a(45),Pe=Object(Oe.c)({ProfilePageReducer:oe,UsersPageReducer:te,AuthPageReducer:be}),we=Object(Oe.d)(Pe,Object(Oe.a)(je.a));window.store=we;var Ue=we;Ue.getState(),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(F.a,{store:Ue},r.a.createElement(_e,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.8bf8c24e.chunk.js.map