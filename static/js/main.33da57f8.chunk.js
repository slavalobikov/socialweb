(this.webpackJsonpsocialweb=this.webpackJsonpsocialweb||[]).push([[0],{127:function(e,t,a){e.exports={dialogs:"Message_dialogs__bIMn1",DialogItem:"Message_DialogItem__2u7aY",active:"Message_active__2Ajpx"}},129:function(e,t,a){e.exports={user:"User_user__2PbJK",unfollow:"User_unfollow__28lBY",follow:"User_follow__2IeDZ"}},130:function(e,t,a){e.exports={paginator:"Paginator_paginator__3Vy7T",pageNumber:"Paginator_pageNumber__3M7aO",selectedPage:"Paginator_selectedPage__1sbx3"}},209:function(e,t,a){e.exports={content:"Dialogs_content___OaR_"}},211:function(e,t,a){e.exports=a.p+"static/media/preloader.b6d3f9e9.svg"},212:function(e,t,a){e.exports={preloader:"Preloader_preloader__1M2-E"}},214:function(e,t,a){},215:function(e,t,a){e.exports={content:"Description_content__1iUNc"}},217:function(e,t,a){e.exports={content:"Users_content__19OzP",selectedPage:"Users_selectedPage__1q73A"}},265:function(e,t,a){e.exports=a(486)},270:function(e,t,a){},271:function(e,t,a){},389:function(e,t,a){e.exports={formControl:"FormsControls_formControl__1nahg",error:"FormsControls_error__c9KbS",formSummaryError:"FormsControls_formSummaryError__A9BDQ",Input:"FormsControls_Input__2WS12",Label:"FormsControls_Label__3v14V"}},47:function(e,t,a){e.exports={MessageArea:"MessageArea_MessageArea__3LRkz",right:"MessageArea_right__1Vt9Y",message:"MessageArea_message__3wlk0",text:"MessageArea_text__2syYp",img:"MessageArea_img__uBtqj",flex:"MessageArea_flex__2vXtI",messageText:"MessageArea_messageText__2qX4Z",NameP:"MessageArea_NameP__2Whzw"}},486:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),s=a(38),c=a.n(s),i=(a(270),a(62)),u=a(63),l=a(67),m=a(68),f=(a(271),a(70)),p=a.n(f),d=a(16),g=function(e){return o.a.createElement("footer",{className:p.a.footer},o.a.createElement(d.b,{to:"/profile",activeClassName:p.a.active},o.a.createElement("img",{className:p.a.img,src:"https://cdn4.iconfinder.com/data/icons/evil-icons-user-interface/64/avatar-512.png",alt:"Profile"})),o.a.createElement(d.b,{to:"/dialogs",activeClassName:p.a.active},o.a.createElement("img",{className:p.a.imgMessages,src:"https://www.logolynx.com/images/logolynx/75/75189e2b07df0d2a8cc42dee4cf889b7.png",alt:"messages"})),o.a.createElement(d.b,{to:"/users",activeClassName:p.a.active},o.a.createElement("img",{className:p.a.img,src:"https://icons.iconarchive.com/icons/custom-icon-design/pretty-office-13/512/Users-icon.png",alt:""})))},h=a(209),b=a.n(h),v=a(21),E=a(22),_=a(23),O=a(31),P=a(14),j=a(77),w=a.n(j),y=a(211),x=a.n(y),N=a(212),k=a.n(N),S=function(e){return o.a.createElement("div",{className:k.a.preloader},o.a.createElement("img",{src:x.a,alt:""}))},C=function(e){if(!e.profile)return o.a.createElement(S,null);var t=e.match.params.userID;return o.a.createElement("div",{className:w.a.me,id:"navbar"},o.a.createElement("div",{className:w.a.nameme},o.a.createElement("div",null,"\u0412\u044b:"),o.a.createElement("div",{className:w.a.nameP},e.profile.fullName),o.a.createElement("img",{src:e.profile.photos.large,alt:""})),e.match.params.userID&&o.a.createElement("div",{className:w.a.pr},o.a.createElement("div",{className:w.a.nameUser}," \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:",o.a.createElement("div",{className:w.a.nameP},e.dialogsReducer.users[t-1].name)),o.a.createElement("img",{src:e.dialogsReducer.users[t-1].img,alt:""})))},A=a(18),U=function(e){return{isAuth:e.AuthPageReducer.isAuth}},T=function(e){var t=function(t){Object(_.a)(n,t);var a=Object(O.a)(n);function n(){return Object(v.a)(this,n),a.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){return this.props.isAuth?o.a.createElement(e,this.props):o.a.createElement(A.a,{to:"/login"})}}]),n}(o.a.Component);return Object(P.b)(U)(t)},R=a(9),D=a(13),I=a.n(D),M=a(33),F=a(124),z=a(17),L=a(213).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"be820c73-af0b-4ffa-9553-5bd0d04425d6"}}),Y={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return L.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return L.post("follow/".concat(e)).then((function(e){return e.data.resultCode}))},unfollowUser:function(e){return L.delete("follow/".concat(e)).then((function(e){return e.data.resultCode}))}},H=function(){return L.get("auth/me").then((function(e){return e.data}))},B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return L.post("auth/login",{email:e,password:t,rememberMe:a})},V=function(){return L.delete("auth/login")},q=function(e){return L.get("profile/status/".concat(e)).then((function(e){return e.data}))},J=function(e){return L.get("profile/".concat(e)).then((function(e){return e.data}))},W=function(e){return L.put("profile/status",{status:e}).then((function(e){return e}))},G=function(e){var t=new FormData;return t.append("image",e),L.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},K=function(e){return L.put("profile",e)},Q=a(5),Z=function(e,t,a,n){return e.map((function(e){return e[a]===t?Object(Q.a)(Object(Q.a)({},e),n):e}))},X={users:[],pageSize:25,totalUsers:0,currentPage:1,isFetching:!1,isDisabled:[],status:""},$=function(e){return{type:re,users:e}},ee=function(e){return{type:oe,userID:e}},te=function(e){return{type:se,userID:e}},ae=function(e,t){return{type:ue,bool:e,id:t}},ne=function(e){return{type:le,bool:e}},re="SET_USERS",oe="FOLLOW_USER",se="UNFOLLOW_USER",ce="SET_CURRENT_PAGE",ie="SET_TOTAL_USERS_COUNT",ue="IS_DISABLED",le="IS_FETCHING",me=function(){var e=Object(M.a)(I.a.mark((function e(t,a,n,r){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ae(!0,a)),e.next=3,n(a);case 3:0===e.sent&&t(r(a)),t(ae(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(z.a)({},e,{users:Z(e.users,t.userID,"id",{followed:!0})});case se:return Object(z.a)({},e,{users:Z(e.users,t.userID,"id",{followed:!1})});case re:return Object(z.a)({},e,{users:t.users});case ce:return Object(z.a)({},e,{currentPage:t.currentPage});case ie:return Object(z.a)({},e,{totalUsers:t.totalCount});case le:return Object(z.a)({},e,{isFetching:t.bool});case ue:return Object(z.a)({},e,{isDisabled:t.bool?[].concat(Object(F.a)(e.isDisabled),[t.id]):e.isDisabled.filter((function(e){return e!==t.id}))});default:return e}},pe=function e(t){return{type:e,text:t}},de={profilePage:[{id:1,text:"\u041f\u0440\u0438\u0432\u0435\u0442",name:"\u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0426\u0435\u043f\u043a\u0430\u043b\u043e",img:"https://officelife.media/upload/iblock/a67/a673bdc2396a44e83b19b8a1665800d0.jpg"},{id:2,text:"\u041a\u0430\u043a \u0434\u0435\u043b\u0430?",name:"\u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0426\u0435\u043f\u043a\u0430\u043b\u043e",img:"https://officelife.media/upload/iblock/a67/a673bdc2396a44e83b19b8a1665800d0.jpg"},{id:3,text:"\u0427\u0442\u043e \u043d\u043e\u0432\u043e\u0433\u043e?",name:"\u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0426\u0435\u043f\u043a\u0430\u043b\u043e",img:"https://officelife.media/upload/iblock/a67/a673bdc2396a44e83b19b8a1665800d0.jpg"}],photo:"",status:"",profile:null,newPostText:""},ge=function(e){return{type:"SET_PHOTO_USER",photo:e}},he=function(e){return{type:"SET_STATUS_USER",status:e}},be=function(e){return function(){var t=Object(M.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:n=t.sent,a(he(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(M.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ne(!0)),t.next=3,J(e);case 3:n=t.sent,a(ge(n.photos.large)),a({type:"SET_USER_PROFILE",profile:n}),a(be(e)),a(ne(!1));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:var a={id:5,text:t.text,name:"\u0412\u0430\u043b\u0435\u0440\u0438\u0439 \u0426\u0435\u043f\u043a\u0430\u043b\u043e",img:"https://officelife.media/upload/iblock/a67/a673bdc2396a44e83b19b8a1665800d0.jpg"};return Object(z.a)({},e,{profilePage:[].concat(Object(F.a)(e.profilePage),[a]),newPostText:t.text});case"SET_PHOTO_USER":return Object(z.a)({},e,{photo:t.photo});case"SET_STATUS_USER":return Object(z.a)({},e,{status:t.status});case"SAVE_PHOTO_SUCCESS":return Object(z.a)({},e,{photo:t.photos});case"SET_USER_PROFILE":return Object(z.a)({},e,{profile:t.profile});default:return e}},_e=function(e){Object(_.a)(a,e);var t=Object(O.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"render",value:function(){return o.a.createElement(C,this.props)}}]),a}(o.a.Component),Oe=Object(R.d)(Object(P.b)((function(e){return{profile:e.ProfilePageReducer.profile,dialogsReducer:e.dialogsReducer}}),{}),A.f,T,(function(e){var t=function(t){Object(m.a)(n,t);var a=Object(l.a)(n);function n(){return Object(i.a)(this,n),a.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getProfileThunk(this.props.id)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}]),n}(o.a.Component);return Object(P.b)((function(e){return{login:e.AuthPageReducer.login,id:e.AuthPageReducer.id}}),{getProfileThunk:ve})(t)}))(_e),Pe=a(127),je=a.n(Pe),we=function(e){var t=e.name,a=e.img;return o.a.createElement("div",{className:je.a.DialogItem},o.a.createElement("div",null,o.a.createElement("img",{src:a,alt:""})),o.a.createElement("div",null,t))},ye=function(e){var t=e.dialogsReducer.users.map((function(e){return o.a.createElement(d.b,{key:e.id,activeClassName:je.a.active,to:"/dialogs/".concat(e.id)},o.a.createElement(we,{name:e.name,img:e.img}))}));return o.a.createElement("div",{className:je.a.dialogs},t)},xe=Object(R.d)(Object(P.b)((function(e){return{dialogsReducer:e.dialogsReducer}}),{}),A.f,T)(ye),Ne=a(98),ke=a(54),Se=a(47),Ce=a.n(Se),Ae=a(4),Ue=a.n(Ae),Te=function(e){var t=Object(r.useState)("ddd"),a=Object(ke.a)(t,2),n=a[0],s=a[1];if(!e.profile)return o.a.createElement(S,null);var c=e.match.params.userID;if(e.match.params.userID){console.log("messElement",e.dialogsReducer.messages[e.match.params.userID-1]);var i=e.dialogsReducer.messages[e.match.params.userID-1].map((function(t){var a;return o.a.createElement("div",{key:t.id,className:Ue()((a={},Object(Ne.a)(a,Ce.a.right,t.isYou),Object(Ne.a)(a,Ce.a.message,!0),a),Ce.a.pageNumber)},o.a.createElement("div",{className:Ce.a.flex},o.a.createElement("div",null,o.a.createElement("img",{className:Ce.a.img,src:t.isYou?e.dialogsReducer.users[c-1].img:e.profile.photos.large,alt:""})),o.a.createElement("div",{className:Ce.a.messageText},o.a.createElement("span",{className:Ce.a.NameP},t.isYou?e.dialogsReducer.users[c-1].name:e.profile.fullName,":")),o.a.createElement("div",{className:Ce.a.messageText},o.a.createElement("span",{className:Ce.a.text},t.message))))}));return o.a.createElement("div",{className:Ce.a.MessageArea},i,o.a.createElement("div",null,o.a.createElement("input",{value:n,onChange:function(e){return s(e.target.value)},type:"text"}),o.a.createElement("button",{onClick:function(){return t=c,console.log("test",e.dialogsReducer.messages[e.match.params.userID-1]),void e.addMessage(t);var t}},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))}return o.a.createElement("span",null)},Re={users:[{id:1,name:"\u0421\u0432\u0435\u0442\u043e\u0437\u0430\u0440 \u0422\u0440\u0443\u0431\u0435\u0446\u043a\u043e\u0439",img:"https://img04.rl0.ru/4c3a6c57c2a08a723214ba61ff9b2aef/c615x400i/news.rambler.ru/img/2017/08/31115059.047592.2664.jpeg"},{id:2,name:"\u041c\u0438\u043b\u0438\u0446\u0430 \u0413\u043e\u043b\u0438\u0446\u044b\u043d\u0430",img:"https://pbs.twimg.com/profile_images/811139177341485056/hvSO9ut1.jpg"},{id:3,name:"\u041b\u044e\u0431\u043e\u043c\u0438\u0440 \u042f\u0433\u0443\u0436\u0438\u043d\u0441\u043a\u0438\u0439",img:"https://storage.myseldon.com/news_pict_05/05E7E5C9CE6AA09669C839A987C3080C"},{id:4,name:"\u0414\u043e\u0431\u0440\u044b\u043d\u044f \u0410\u043b\u0442\u0443\u0444\u044c\u0435\u0432",img:"https://sun9-33.userapi.com/impf/c638418/v638418588/4a9e7/PUUC3W2ihCA.jpg?size=400x0&quality=90&sign=b34a698aa4dfc7fc4851449f08824abb&ava=1"}],messages:[[{id:1,message:"\u041f\u0440\u0438\u0432\u0435\u0442 \u043f\u0440\u0438\u044f\u0442\u0435\u043b\u044c!",isYou:!1},{id:2,message:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0432\u0443\u044e))",isYou:!0},{id:3,message:"\u041a\u0430\u043a \u0434\u0435\u043b\u0438\u0448\u043a\u0438?",isYou:!0},{id:4,message:"\u041d\u0443 \u0442\u0430\u043a\u043e\u0435....",isYou:!1},{id:5,message:"\u0410 \u0447\u0442\u043e \u0441\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c?",isYou:!0},{id:6,message:"\u0412 \u0448\u043a\u043e\u043b\u0435 \u0434\u0432\u043e\u0439\u043a\u0443 \u043f\u043e\u043b\u0443\u0447\u0438\u043b:(",isYou:!1},{id:7,message:"\u041d\u0443 \u043d\u0435 \u0440\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0439\u0441\u044f, \u0432\u0441\u0435 \u043d\u043e\u0440\u043c \u0431\u0443\u0434\u0435\u0442!",isYou:!0}],[{id:1,message:"2edsfd",isYou:!1},{id:2,message:"dfdf dfdf dsd it-sdsd?",isYou:!0},{id:3,message:"fddfdf",isYou:!0},{id:4,message:"dffdf",isYou:!1},{id:5,message:"dfdfdf",isYou:!0}]]},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":var a=t.id-1,n={id:11,message:"hui",isYou:!0};return Object(z.a)({},e,{messages:e.messages.map((function(e){return e[a+1]===t.id?Object(z.a)({},e,{abc:n}):e}))});default:return e}},Ie=Object(R.d)(Object(P.b)((function(e){return{dialogsReducer:e.dialogsReducer,profile:e.ProfilePageReducer.profile}}),{addMessage:function(e){return{type:"ADD_MESSAGE",id:e}}}),A.f,T)(Te),Me=function(e){return o.a.createElement("div",{className:b.a.content},o.a.createElement(Oe,null),o.a.createElement(xe,null),o.a.createElement(Ie,null))},Fe=a(57),ze=a.n(Fe),Le=a(87),Ye=a.n(Le),He=function(e){return o.a.createElement("div",{className:Ye.a.post},o.a.createElement("img",{className:Ye.a.imgAva,src:e.photo||"https://img8.eadaily.com/r650x450/o/7ac/95f49146b4501082acd22918d4cc2.jpg",alt:e.name}),o.a.createElement("div",{className:Ye.a.postArea},o.a.createElement("div",{className:Ye.a.postName},e.fullname),o.a.createElement("div",{className:Ye.a.postText},e.text)))},Be=a(206),Ve=a(207),qe=function(e){if(!e)return"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0434\u043b\u044f \u0432\u0432\u043e\u0434\u0430!"},Je=a(214),We=a.n(Je),Ge=function(e){var t=e.userID;t||(t=e.id);var a=Object(r.useState)(!1),n=Object(ke.a)(a,2),s=n[0],c=n[1],i=Object(r.useState)(e.status),u=Object(ke.a)(i,2),l=u[0],m=u[1];Object(r.useEffect)((function(){m(e.status)}),[e.status]);var f=function(){c(!0)};return o.a.createElement("div",null,s?e.id===t?o.a.createElement("div",null," ",o.a.createElement("input",{onChange:function(e){m(e.currentTarget.value)},onBlur:function(){c(!1),e.updateStatus(l)},autoFocus:!0,value:l})):o.a.createElement("div",{onClick:f},o.a.createElement("span",{className:We.a.color},"\u0421\u0442\u0430\u0442\u0443\u0441:"),e.status||o.a.createElement("span",null,"3% ")):o.a.createElement("div",{onClick:f},"Status:",e.status||o.a.createElement("span",null,"3% ")))},Ke=a(215),Qe=a.n(Ke),Ze=Object(Ve.a)({form:"descriptionStatus"})((function(e){var t=Object(r.useState)(e.profile.fullName),a=Object(ke.a)(t,2),n=a[0],s=a[1],c=Object(r.useState)(e.contacts.github),i=Object(ke.a)(c,2),u=i[0],l=i[1],m=Object(r.useState)(e.contacts.vk),f=Object(ke.a)(m,2),p=f[0],d=f[1],g={aboutMe:"aboutMe",lookingForAJobDescription:"\u042f \u043d\u0435 \u0448\u0443\u0447\u0443, \u0430 \u0438\u0433\u0440\u0430\u044e\u0441\u044c",fullName:n,contacts:{facebook:"",website:"",vk:p,twitter:"",instagram:"",youtube:"",github:u,mainLink:""}},h=Object(r.useState)(!1),b=Object(ke.a)(h,2),v=b[0],E=b[1];return o.a.createElement("div",{className:Qe.a.content},v?o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return function(t){return e.saveProfile(t).then((function(){E(!1)}))}(g)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),o.a.createElement("input",{type:"text"}),o.a.createElement("div",null,"  ",o.a.createElement("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",value:n,onChange:function(e){return s(e.currentTarget.value)}})," "),o.a.createElement("div",null,"  ",o.a.createElement("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0430\u0448 vk",value:p,onChange:function(e){return d(e.currentTarget.value)}})," "),o.a.createElement("div",null,"  ",o.a.createElement("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0430\u0448 github",value:u,onChange:function(e){return l(e.currentTarget.value)}})," ")):o.a.createElement("div",null,e.isOwner?o.a.createElement("button",{onClick:function(){return E(!0)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"):o.a.createElement("div",null," "),o.a.createElement("div",null,e.lookingForAJob?o.a.createElement("div",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443"):o.a.createElement("div",null,"\u041d\u0435 \u0438\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443")),o.a.createElement("div",null,o.a.createElement("b",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),": ",Object.keys(e.contacts).map((function(t){return o.a.createElement(Xe,{key:t,contactTitle:t,contactValue:e.contacts[t]})})))))})),Xe=function(e){var t=e.contactTitle,a=e.contactValue;return o.a.createElement("div",null,!!a&&o.a.createElement("div",null,o.a.createElement("b",null,t)," ",o.a.createElement("span",null,a)," "))},$e=Ze,et=Object(P.b)((function(e){return{profile:e.ProfilePageReducer.profile}}),{saveProfile:function(e){return function(){var t=Object(M.a)(I.a.mark((function t(a,n){var r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().AuthPageReducer.id,t.next=3,K(e);case 3:0===t.sent.data.resultCode?a(ve(r)):alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438");case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})($e),tt=(n=300,function(e){if(e.length>n)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 ".concat(n," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!")}),at=Object(Ve.a)({form:"postAddPostForm"})((function(e){return o.a.createElement("form",{className:ze.a.form,onSubmit:e.handleSubmit},o.a.createElement("div",null,o.a.createElement(Be.a,{className:ze.a.input,component:"textarea",name:"newPostBody",placeholder:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u043e\u0441\u0442",validate:[qe,tt]})),o.a.createElement("div",null,o.a.createElement("button",{className:ze.a.btn},"\u041e\u0442\u0440\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))})),nt=function(e){if(!e.profile)return o.a.createElement(S,null);var t=e.profilePage.map((function(t){return o.a.createElement(He,{img:t.img,text:t.text,key:t.id,name:t.name,fullname:e.profile.fullName,photo:e.profile.photos.large})}));return o.a.createElement("div",{className:ze.a.content},e.isFetching?o.a.createElement(S,null):o.a.createElement("div",{className:ze.a.ava},o.a.createElement("img",{src:e.photo?e.photo:"https://img8.eadaily.com/r650x450/o/7ac/95f49146b4501082acd22918d4cc2.jpg",alt:""}),e.isOwner&&o.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})),o.a.createElement("div",{className:ze.a.me},e.profile.fullName,o.a.createElement(Ge,{status:e.status,updateStatus:e.updateStatusThunk,id:e.id,userID:e.match.params.userID}),o.a.createElement("div",null,"\u041e\u0431\u043e \u043c\u043d\u0435: ",e.profile.aboutMe)),!e.isOwner&&o.a.createElement("div",{className:ze.a.zero}),o.a.createElement(et,{handleSubmit:function(e){console.log("formData",e)},contacts:e.profile.contacts,lookingForAJob:e.lookingForAJob,isOwner:e.isOwner}),e.isOwner&&o.a.createElement("div",{className:ze.a.posts},o.a.createElement(at,{onSubmit:function(t){e.addPost(t.newPostBody)}}),t.reverse()))},rt=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userID;e||(e=this.props.id),this.props.getProfileThunk(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userID!==e.match.params.userID&&this.refreshProfile()}},{key:"render",value:function(){return o.a.createElement(nt,Object.assign({},this.props,{isOwner:!this.props.match.params.userID}))}}]),a}(o.a.Component),ot=Object(R.d)(Object(P.b)((function(e){return{profilePage:e.ProfilePageReducer.profilePage,newPostText:e.ProfilePageReducer.newPostText,photo:e.ProfilePageReducer.photo,isFetching:e.UsersPageReducer.isFetching,status:e.ProfilePageReducer.status,id:e.AuthPageReducer.id,profile:e.ProfilePageReducer.profile}}),(function(e){return{addPost:function(t){e(pe(t))},setPhotoUser:function(t){e(ge(t))},getProfileThunk:function(t){e(ve(t))},updateStatusThunk:function(t){e(function(e){return function(){var t=Object(M.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e);case 2:0===t.sent.data.resultCode&&a(he(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},savePhoto:function(t){var a;e((a=t,function(){var e=Object(M.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(a);case 2:0===(n=e.sent).data.resultCode&&t({type:"SAVE_PHOTO_SUCCESS",photos:n.data.data.photos});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}})),A.f,T)(rt),st=a(217),ct=a.n(st),it=a(129),ut=a.n(it),lt=function(e){return o.a.createElement("div",{className:ut.a.user},o.a.createElement(d.b,{to:"/profile/"+e.u.id},o.a.createElement("div",null,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: ",e.u.name," "),o.a.createElement("div",null,o.a.createElement("img",{src:e.u.photos.large?e.u.photos.large:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/VK.com-logo.svg/1200px-VK.com-logo.svg.png",alt:e.u.name})),o.a.createElement("div",null,e.status&&o.a.createElement("div",null,"C\u0442\u0430\u0442\u0443\u0441: ",e.status," "))),e.u.followed?o.a.createElement("button",{className:ut.a.unfollow,disabled:e.Disabled.some((function(t){return t===e.u.id})),onClick:function(){return e.unfUser(e.u.id)}}," \u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f "):o.a.createElement("button",{className:ut.a.follow,disabled:e.Disabled.some((function(t){return t===e.u.id})),onClick:function(){return e.fUser(e.u.id)}}," \u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f "))},mt=a(15),ft=a(8),pt=a(130),dt=a.n(pt),gt=function(e){for(var t=e.totalItemsCount,a=e.pageSize,n=e.currentPage,s=e.onPageChanged,c=e.portionSize,i=void 0===c?10:c,u=Math.ceil(t/a),l=[],m=1;m<=u;m++)l.push(m);var f=Math.ceil(u/i),p=Object(r.useState)(1),d=Object(ft.a)(p,2),g=d[0],h=d[1],b=(g-1)*i+1,v=g*i;return o.a.createElement("div",{className:dt.a.paginator},o.a.createElement("button",{disabled:g<=1,onClick:function(){h(g-1)}},"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0435"),l.filter((function(e){return e>=b&&e<=v})).map((function(e){return o.a.createElement("span",{className:Ue()(Object(mt.a)({},dt.a.selectedPage,n===e),dt.a.pageNumber),key:e,onClick:function(t){s(e)}},e)})),o.a.createElement("button",{disabled:f<=g,onClick:function(){h(g+1)}},"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435"))},ht=function(e){var t=function(t){e.followUserThunk(t)},a=function(t){e.unfollowUserThunk(t)};return o.a.createElement("div",{className:ct.a.content},e.isFetching?o.a.createElement(S,null):o.a.createElement("div",null,o.a.createElement(gt,{currentPage:e.currentPage,onPageChanged:function(t){e.onPageChangedThunk(t,e.pageSize)},totalItemsCount:e.totalItemsCount,pageSize:e.pageSize}),e.users.map((function(n){return o.a.createElement(lt,{u:n,Disabled:e.Disabled,unfUser:a,fUser:t,key:n.id,status:n.status})}))))},bt=function(e){return e.UsersPageReducer.users},vt=function(e){return e.UsersPageReducer.pageSize},Et=function(e){return e.UsersPageReducer.totalUsers},_t=function(e){return e.UsersPageReducer.currentPage},Ot=function(e){return e.UsersPageReducer.isFetching},Pt=function(e){return e.UsersPageReducer.isDisabled},jt=function(e){Object(_.a)(a,e);var t=Object(O.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(E.a)(a,[{key:"componentDidMount",value:function(){this.props.getUserAC(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){for(var e=Math.ceil(this.props.totalUsers/this.props.pageSize),t=[],a=1;a<=e;a++)t.push(a);return o.a.createElement(ht,Object.assign({},this.props,{pages:t,followUser:Y.followUser,unfollowUser:Y.unfollowUser,currentPage:this.props.currentPage,totalItemsCount:this.props.totalUsers,pageSize:this.props.pageSize}))}}]),a}(o.a.Component),wt=Object(R.d)(Object(P.b)((function(e){return{users:bt(e),pageSize:vt(e),totalUsers:Et(e),currentPage:_t(e),isFetching:Ot(e),Disabled:Pt(e)}}),{getUserAC:function(e,t){return function(){var a=Object(M.a)(I.a.mark((function a(n){var r;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(ne(!0)),a.next=3,Y.getUsers(e,t);case 3:r=a.sent,n($(r.items)),n((o=r.totalCount,{type:ie,totalCount:o})),n(ne(!1));case 7:case"end":return a.stop()}var o}),a)})));return function(e){return a.apply(this,arguments)}}()},followUserThunk:function(e){return function(){var t=Object(M.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Y.followUser.bind(Y),me(a,e,n,ee);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowUserThunk:function(e){return function(){var t=Object(M.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Y.unfollowUser.bind(Y),me(a,e,n,te);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},onPageChangedThunk:function(e,t){return function(){var a=Object(M.a)(I.a.mark((function a(n){var r;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(ne(!0)),n({type:ce,currentPage:e}),a.next=4,Y.getUsers(e,t);case 4:r=a.sent,n($(r.items)),n(ne(!1));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getStatusThunk:be}),T)(jt),yt=a(71),xt=a.n(yt),Nt=function(e){return e.profilePage?o.a.createElement("header",{className:xt.a.header},o.a.createElement(d.b,{to:"/profile",activeClassName:xt.a.active},"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),o.a.createElement(d.b,{to:"/dialogs",activeClassName:xt.a.active},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),o.a.createElement(d.b,{to:"/users",activeClassName:xt.a.active},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"),e.isAuth?o.a.createElement("div",{className:xt.a.auth},e.login," ",o.a.createElement("img",{src:e.profilePage.photos.large?e.profilePage.photos.large:"https://avatars.yandex.net/get-music-content/175191/f26e7e1a.p.5821649/m1000x1000",alt:""})," ",o.a.createElement(d.b,{to:"/login",onClick:e.logout},"\u0412\u044b\u0439\u0442\u0438")):o.a.createElement("div",{className:xt.a.auth},o.a.createElement(d.b,{className:xt.a.logout,to:"/login"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435"))):o.a.createElement("div",null,"   ")},kt=a(80),St={id:null,email:null,login:null,isAuth:!1,password:null,rememberMe:null,hello:!1},Ct=function(e,t,a,n){return{type:"SET_USER_DATA",payload:{id:e,email:t,login:a,isAuth:n}}},At=function(){return function(){var e=Object(M.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:0===(a=e.sent).resultCode&&t(Ct(a.data.id,a.data.email,a.data.login,!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(z.a)({},e,{},t.payload);case"SET_HELLO":return Object(z.a)({},e,{hello:t.bool});case"LOGOUT":return Object(z.a)({},e,{isAuth:!1,login:null});default:return e}},Tt=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement(Nt,this.props)}}]),a}(o.a.Component),Rt=Object(R.d)(Object(P.b)((function(e){return{login:e.AuthPageReducer.login,profilePage:e.ProfilePageReducer.profile,isAuth:e.AuthPageReducer.isAuth}}),{setUserData:Ct,setPhotoUser:ge,logoutAC:function(){return{type:"LOGOUT"}},logout:function(e){return function(){var e=Object(M.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:0===e.sent.data.resultCode&&t(Ct(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),A.f)(Tt),Dt=a(88),It=a.n(Dt),Mt=(a(389),a(490)),Ft=a(491),zt=a(493),Lt=a(237),Yt=a(494),Ht=a(495),Bt=(a(390),function(e){console.log(e);return o.a.createElement(Mt.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(t){e.setDataLoginThunk(t.username,t.password)}},o.a.createElement(Mt.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},o.a.createElement(Ft.a,{prefix:o.a.createElement(Yt.a,{className:"site-form-item-icon"}),placeholder:"\u041b\u043e\u0433\u0438\u043d"})),o.a.createElement(Mt.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},o.a.createElement(Ft.a,{prefix:o.a.createElement(Ht.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),o.a.createElement(Mt.a.Item,null,o.a.createElement(Mt.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},o.a.createElement(zt.a,null,"Remember me")),o.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password")),o.a.createElement(Mt.a.Item,null,!!e.isFetching&&o.a.createElement(Lt.a,{loading:!0,type:"primary",htmlType:"submit",className:"login-form-button"},"\u0412\u043e\u0439\u0442\u0438"),!e.isFetching&&o.a.createElement(Lt.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u0412\u043e\u0439\u0442\u0438"),"Or ",o.a.createElement("a",{href:""},"register now!")))}),Vt=Object(P.b)((function(e){return{isAuth:e.AuthPageReducer.isAuth,isFetching:e.UsersPageReducer.isFetching}}),{setDataLoginThunk:function(e,t){return function(){var a=Object(M.a)(I.a.mark((function a(n){var r,o;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(ne(!0)),a.next=3,B(e,t);case 3:0===(r=a.sent).data.resultCode?n(At()):(o=r.data.messages.length>0?r.data.messages[0]:"\u041e\u0448\u0438\u0431\u043a\u0430",n(Object(kt.a)("login",{_error:o}))),n(ne(!1));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?o.a.createElement(A.a,{to:"/profile"}):o.a.createElement("div",{className:It.a.login},o.a.createElement("div",{className:It.a.main},o.a.createElement("div",{className:It.a.block},o.a.createElement("div",{className:It.a.wrapper},o.a.createElement("div",{className:It.a.flex},o.a.createElement("h1",null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")),o.a.createElement(Bt,{isFetching:e.isFetching,setDataLoginThunk:e.setDataLoginThunk})))))})),qt={initialized:!1},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZED":return Object(z.a)({},e,{initialized:!0});default:return e}},Wt=function(e){Object(m.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?o.a.createElement("div",{className:"App"},o.a.createElement(Rt,null),o.a.createElement(A.b,{path:"/profile/:userID?",render:function(){return o.a.createElement(ot,null)}}),o.a.createElement(A.b,{path:"/dialogs/:userID?",component:Me}),o.a.createElement(A.b,{path:"/users",component:wt}),o.a.createElement(A.b,{path:"/login",component:Vt}),o.a.createElement(g,null)):o.a.createElement(S,null)}}]),a}(o.a.Component),Gt=Object(P.b)((function(e){return{initialized:e.AppReducer.initialized}}),{initializeApp:function(){return function(e){var t=e(At());Promise.all([t]).then((function(){e({type:"SET_INITIALIZED"})}))}}})(Wt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Kt=a(235),Qt=a(208),Zt=Object(R.c)({ProfilePageReducer:Ee,UsersPageReducer:fe,AuthPageReducer:Ut,form:Qt.a,AppReducer:Jt,dialogsReducer:De}),Xt=Object(R.e)(Zt,Object(R.a)(Kt.a));window.store=Xt;var $t=Xt;c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d.a,null,o.a.createElement(P.a,{store:$t},o.a.createElement(Gt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,t,a){e.exports={content:"Main_content__3Bs3o",ava:"Main_ava__1o9-r",me:"Main_me__3UC4q",posts:"Main_posts__lOreb",input:"Main_input__1jIeW",btn:"Main_btn__1fyob",zero:"Main_zero__1nHyy",form:"Main_form__2CQT3"}},70:function(e,t,a){e.exports={footer:"Footer_footer__1dvtT",img:"Footer_img__1lQzi",imgMessages:"Footer_imgMessages__1ACES",active:"Footer_active__1A6_j"}},71:function(e,t,a){e.exports={header:"Header_header__318n1",active:"Header_active__1tsaU",auth:"Header_auth__2-Am-",logout:"Header_logout__17PEw"}},77:function(e,t,a){e.exports={me:"Me_me__mJ2AC",nameme:"Me_nameme__3nqDB",pr:"Me_pr__xubHo",nameP:"Me_nameP__2ronn"}},87:function(e,t,a){e.exports={post:"Post_post__2V2IF",postArea:"Post_postArea__3QaqU",postName:"Post_postName__3RciP",postText:"Post_postText__1qnie"}},88:function(e,t,a){e.exports={main:"Login_main__3b2oG",block:"Login_block__1lTrk",wrapper:"Login_wrapper__3zPaA",flex:"Login_flex__1bA-_"}}},[[265,1,2]]]);
//# sourceMappingURL=main.33da57f8.chunk.js.map